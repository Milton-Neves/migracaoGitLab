<div class="resume-details">
  <header class="resume-details__header">
    <div class="resume-details__header__view">
      <h2 class="resume-details__header__view--title">
        {{ resume?.physicalPerson?.name | dashOnNull }}
      </h2>

      <ng-container *ngIf="resume && resume.jobs.length != 0">
        <span
          class="resume-details__header__view--tag"
          [style.background-color]="colorCodes[0]"
          >{{ resume!.jobs[0]?.name }}</span
        >

        <button
          (click)="openJobsView(resume!.jobs!, colorCodes)"
          class="resume-details__header__view--button"
          *ngIf="resume.jobs.length > 1"
        >
          ver mais
        </button>
      </ng-container>
    </div>
    <span
      class="resume-details__header__situation"
      [ngClass]="{
        active: resume?.statusResume,
        inactive: !resume?.statusResume
      }"
      ><b>Situação:</b>
      {{ resume?.statusResume ? 'Disponível' : 'Indisponível' }}</span
    >
  </header>

  <app-tab-nav
    [titles]="sectionTitle"
    (activeTab)="changeTab($event)"
  ></app-tab-nav>

  <div class="container">
    <ng-container *ngIf="activeTab == sectionTitle[0]">
      <app-about [physicalPerson]="resume?.physicalPerson"></app-about>
    </ng-container>

    <ng-container *ngIf="activeTab == sectionTitle[1]">
      <app-availability
        [willingness]="resume?.physicalPerson?.willingness!"
      ></app-availability>
    </ng-container>

    <ng-container *ngIf="activeTab == sectionTitle[2]">
      <app-formation [educations]="resume?.educations!"></app-formation>
    </ng-container>

    <ng-container *ngIf="activeTab == sectionTitle[3]">
      <app-professional-experience
        [workExperiences]="resume?.workExperiences"
      ></app-professional-experience>
    </ng-container>
    <ng-container *ngIf="activeTab == sectionTitle[4]">
      <app-attachments></app-attachments>
    </ng-container>

    <div class="resume-details__btn">
      <app-button
        class="resume-details__btn__cancel"
        [text]="'Cancelar'"
        [color]="'transparent'"
        [textColor]="'#1C3152'"
        (click)="closeModal()"
      >
      </app-button>

      <app-button
        class="resume-details__btn__print"
        [text]="'Imprimir'"
        [color]="'#1C3152'"
      >
      </app-button>
    </div>
  </div>
</div>
