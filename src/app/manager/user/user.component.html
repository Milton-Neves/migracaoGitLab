<main class="user">
  <header class="user__header">
    <app-page-title
      [title]="role === 'EMPLOYEE_SEMAS' ? 'Usuário' : 'Usuários'"
    ></app-page-title>
  </header>
  <ng-container *ngIf="role === 'EMPLOYEE_SEMAS'">
    <app-reset-account-password></app-reset-account-password>
  </ng-container>

  <ng-container *ngIf="role === 'ADMIN_SEMAS' || role === 'SUPERADMIN'">
    <div class="input">
      <app-input-search
        *ngIf="activeTab !== sectionTitle[0]"
        [placeholder]="placeholderActiveSection"
        [styles]="{ width: '20rem' }"
        (search)="search = $event"
      ></app-input-search>
    </div>

    <section class="user__content">
      <div class="tab-nav">
        <app-tab-nav
          [titles]="sectionTitle"
          (activeTab)="changeTab($event)"
        ></app-tab-nav>
      </div>

      <div class="semas-section" *ngIf="activeTab == sectionTitle[0]">
        <app-reset-account-password></app-reset-account-password>
      </div>

      <div class="company-section" *ngIf="activeTab == sectionTitle[1]">
        <ng-container *ngIf="this.featureFlag.legalUser; else moduleDisabled">
          <app-legal-user-list [search]="search"></app-legal-user-list>
        </ng-container>
      </div>

      <div class="physical-user-section" *ngIf="activeTab == sectionTitle[2]">
        <ng-container
          *ngIf="this.featureFlag.physicalUser; else moduleDisabled"
        >
          <app-physical-user-list [search]="search"></app-physical-user-list>
        </ng-container>
      </div>
    </section>
  </ng-container>
</main>

<ng-template #moduleDisabled>
  <app-not-allowed></app-not-allowed>
</ng-template>
